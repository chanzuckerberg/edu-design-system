@import '../../design-tokens/mixins.css';

/*------------------------------------*\
    #ACCORDION
\*------------------------------------*/

/**
 * 1) A list of buttons that contain additional content that toggle open/close when link is selected
 */
.accordion {
  margin: 0;
  padding: 0;
  list-style: none;
  border-bottom-style: solid;
  border-bottom-width: var(--eds-theme-border-width);
  border-bottom-color: var(--eds-theme-color-border-neutral-subtle);
}

/**
 * Inverted accordion
 * 1) Make the text lighter to be accessible on darker backgrounds
 */
.accordion--inverted {
  color: var(--eds-theme-color-text-neutral-default-inverse);
  border-bottom-color: var(--eds-theme-color-border-neutral-strong);
}

/**
 * Individual accordion panel
 */
.accordion-panel {
  border-top-style: solid;
  border-top-width: var(--eds-theme-border-width);
  border-top-color: var(--eds-theme-color-border-neutral-subtle);
}

/**
 * Active accordion panel
 */
.accordion-panel.eds-is-active {
  padding-bottom: var(--eds-size-4);
}

/**
 * Accordion panel in an inverted accordion 
 */
.accordion--inverted .accordion-panel {
  border-top-color: var(--eds-theme-color-border-neutral-strong);
  border-bottom-color: var(--eds-theme-color-border-neutral-strong);
}

/**
 * Accordion panel header
 */
.accordion-panel__header {
  padding: 0;
  margin: 0;
}

/**
 * Accordion Button
 * 1) The accordion trigger marked up as a <button>
 */
.accordion-panel__button {
  all: inherit;
  display: flex;
  align-items: center;
  width: 100%;
  border: 0;
  padding-top: var(--eds-size-2);
  padding-left: 0;
  padding-bottom: var(--eds-size-2);
  padding-right: 0;
  text-align: left;
  background-color: transparent;
  cursor: pointer;
}

/**
 * Accordion panel button focus visible
 * 1) Show focus ring when focused only with keyboard
 */
.accordion-panel__button:focus-visible {
  @mixin focus;
}

/**
 * Accordion panel button within inverted accordion
 * 1) The wrapper for the text
 */
.accordion--inverted .accordion-panel__button {
  color: var(--eds-theme-color-text-neutral-default-inverse);
}

/**
 * Accordion body
 * 1) Set max height to 0 and overflow to hidden to get smoother transition when activated
 */
.accordion-panel__body {
  display: block;
  overflow: hidden;
  visibility: hidden;
  margin-left: 0;
  padding-top: 0;
  opacity: 0;
  transition: height var(--eds-anim-move-quick) var(--eds-anim-ease),
    visibility var(--eds-anim-move-quick) var(--eds-anim-ease),
    overflow var(--eds-anim-move-quick) steps(1, end),
    opacity var(--eds-anim-move-quick) var(--eds-anim-ease);
}

/**
 * Accordion body within active accordion panel
 */
.accordion--inverted .accordion-panel__body {
  color: var(--eds-theme-color-text-neutral-default-inverse);
}

/**
 * Accordion body within active accordion panel
 */
.accordion-panel.eds-is-active .accordion-panel__body {
  opacity: 1;
  visibility: visible;
  overflow: visible;
}

/**
 * Accordion panel left
 * 1) Section that contains the title and other text of the accordion
 */
.accordion-panel__left {
  flex: 1;
}

@media all and (min-width: $eds-bp-md) {
  .accordion-panel__left {
    display: flex;
    align-items: center;
  }
}

/**
 * Accordion Icon
 * 1) The icon that indicates the accordion
 * 2) Double up on the classname to override default `icon` height/width
 */
.accordion-panel__icon.accordion-panel__icon {
  margin-left: auto;
  height: var(--eds-size-3);
  width: var(--eds-size-3);
  fill: var(--eds-theme-color-icon-brand-primary);
  transition: transform var(--eds-anim-fade-quick) var(--eds-anim-ease);
}

/**
 * Accordion icon within active accordion panel
 */
.accordion-panel.eds-is-active .accordion-panel__icon {
  transform: rotate(-180deg);
}
